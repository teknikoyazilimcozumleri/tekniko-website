---
import '../styles/global.css';

export interface JobPostData {
	title: string;
    location: string;
    companyDescription?: string;
    jobDescription?: string;
    requirements?: string;
    benefits?: string;
    tags?: string[];
}

export interface Props {
	jobPosting: JobPostData;
    href?: string;
}

const { jobPosting, href } = Astro.props as Props;
---
<article class="w-full py-2">
    {href ? (
        <a href={href} class="block no-underline">
            <div class="rounded-xl border border-luxury-border bg-white shadow-sm p-6 md:p-8">
                <div class="flex items-start justify-between gap-4">
                    <h2 class="text-2xl md:text-3xl font-semibold leading-tight m-0">{jobPosting.title}</h2>
                </div>
                <div>
                    <span class="text-xs md:text-sm px-2 py-1 rounded-full border border-luxury-border text-luxury-muted whitespace-nowrap">{jobPosting.location}</span>
                </div>
                {jobPosting.companyDescription && (
                    <p class="text-sm md:text-base text-luxury-muted mt-5 mb-0">{jobPosting.companyDescription}</p>
                )}
                {jobPosting.jobDescription && (
                    <div class="mt-6">
                        <h3 class="text-base md:text-lg font-semibold m-0">Role</h3>
                        <div class="prose prose-neutral max-w-none leading-relaxed mt-2" set:html={jobPosting.jobDescription}></div>
                    </div>
                )}
                {jobPosting.requirements && (
                    <div class="mt-6">
                        <h3 class="text-base md:text-lg font-semibold m-0">Requirements</h3>
                        <div class="prose prose-neutral max-w-none leading-relaxed mt-2" set:html={jobPosting.requirements}></div>
                    </div>
                )}
                {jobPosting.benefits && (
                    <div class="mt-6">
                        <h3 class="text-base md:text-lg font-semibold m-0">Benefits</h3>
                        <div class="prose prose-neutral max-w-none leading-relaxed mt-2" set:html={jobPosting.benefits}></div>
                    </div>
                )}
            </div>
        </a>
    ) : (
        <div class="rounded-xl border border-luxury-border bg-white shadow-sm p-6 md:p-8">
            <div class="flex items-start justify-between gap-4">
                <h2 class="text-2xl md:text-3xl font-semibold leading-tight m-0">{jobPosting.title}</h2>
            
            </div>
            <div>
                <span class="text-xs md:text-sm px-2 py-1 rounded-full border border-luxury-border text-luxury-muted whitespace-nowrap">{jobPosting.location}</span>
            </div>
            {jobPosting.companyDescription && (
                <p class="text-sm md:text-base text-luxury-muted mt-5 mb-0">{jobPosting.companyDescription}</p>
            )}

            {jobPosting.jobDescription && (
                <div class="mt-6">
                    <h3 class="text-base md:text-lg font-semibold m-0">Role</h3>
                    <div class="prose prose-neutral max-w-none leading-relaxed mt-2" set:html={jobPosting.jobDescription}></div>
                </div>
            )}

            {jobPosting.requirements && (
                <div class="mt-6">
                    <h3 class="text-base md:text-lg font-semibold m-0">Requirements</h3>
                    <div class="prose prose-neutral max-w-none leading-relaxed mt-2" set:html={jobPosting.requirements}></div>
                </div>
            )}

            {jobPosting.benefits && (
                <div class="mt-6">
                    <h3 class="text-base md:text-lg font-semibold m-0">Benefits</h3>
                    <div class="prose prose-neutral max-w-none leading-relaxed mt-2" set:html={jobPosting.benefits}></div>
                </div>
            )}
        </div>
    )}
</article>
